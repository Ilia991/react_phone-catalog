(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{53:function(e,t,c){},56:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(27),s=c.n(a),n=c(7),i=c(25),r=c(4),l=(c(53),c(0)),o=c(8),b=c.n(o),j=c(3);function d(e,t){var c=Object(l.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(a){return t}})),a=Object(r.a)(c,2),s=a[0],n=a[1];return[s,function(t){n(t),localStorage.setItem(e,JSON.stringify(t))}]}var u=function(){return Object(i.b)()},m=i.c,_=c(19),h=c(9),O=c(6),p=Object(_.b)({name:"favorite",initialState:{favoriteItem:[]},reducers:{addAllFavorite:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{favoriteItem:t.payload})},addFavorite:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{favoriteItem:[].concat(Object(h.a)(e.favoriteItem),[t.payload])})},removeFavorite:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{favoriteItem:e.favoriteItem.filter((function(e){return e.id!==t.payload.id}))})}}}),x=p.actions,f=x.addFavorite,N=x.removeFavorite,v=x.addAllFavorite,g=p.reducer,y=Object(_.b)({name:"favorite",initialState:{basketItem:[]},reducers:{addAllBasket:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{basketItem:t.payload})},addMoreItemBasket:function(e,t){return e.basketItem.some((function(e){return e.id===t.payload.id}))?Object(O.a)(Object(O.a)({},e),{},{basketItem:e.basketItem.map((function(e){return e.id===t.payload.id?Object.hasOwnProperty.call(e,"quantity")?Object(O.a)(Object(O.a)({},e),{},{quantity:e.quantity+1}):Object(O.a)(Object(O.a)({},e),{},{quantity:2}):Object(O.a)({},e)}))}):Object(O.a)(Object(O.a)({},e),{},{basketItem:[].concat(Object(h.a)(e.basketItem),[t.payload])})},addItemBasket:function(e,t){return e.basketItem.find((function(e){return e.id===t.payload.id}))?e:Object(O.a)(Object(O.a)({},e),{},{basketItem:[].concat(Object(h.a)(e.basketItem),[t.payload])})},removeItemBasket:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{basketItem:Object(h.a)(e.basketItem.filter((function(e){return e.id!==t.payload.id})))})},removeAllItems:function(e){return Object(O.a)(Object(O.a)({},e),{},{basketItem:[]})},removeItemInBasket:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{basketItem:e.basketItem.map((function(e){return e.id===t.payload.id?(Object.hasOwnProperty.call(e,"quantity")&&e.quantity,Object(O.a)(Object(O.a)({},e),{},{quantity:e.quantity-1})):e}))})},removeItemFromBasket:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{basketItem:e.basketItem.filter((function(e){return e.id!==t.payload.id}))})}}}),k=y.actions,w=k.addItemBasket,I=k.removeItemInBasket,C=k.addMoreItemBasket,S=k.addAllBasket,q=k.removeItemBasket,E=k.removeItemFromBasket,B=k.removeAllItems,F=y.reducer,A=Object(_.a)({reducer:{favorite:g,basket:F}}),L=function(e){return e.basket},T=function(e){return e.favorite},P=c(11),M=c(5),R=c.n(M),D="https://mate-academy.github.io/react_phone-catalog/api/products",$=function(){var e=Object(P.a)(R.a.mark((function e(){var t,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,".json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(P.a)(R.a.mark((function e(t){var c,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/").concat(t,".json"));case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(P.a)(R.a.mark((function e(){var t,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/banner.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=(c(56),c(1)),X=function(e){var t=e.item,c=d("prodFavorite",[]),a=Object(r.a)(c,2),s=a[0],n=a[1],i=d("prodBuy",[]),o=Object(r.a)(i,2),j=o[0],_=o[1],h=m(T).favoriteItem,O=m(L).basketItem,p=u();Object(l.useEffect)((function(){_(O)}),[O]),Object(l.useEffect)((function(){n(h)}),[h]);var x=j.find((function(e){return e.id===t.id})),v=function(e,t){return e.some((function(e){return e.id===t.id}))};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("button",{onClick:function(){return e=t,void p(x?q(e):w(e));var e},className:b()("card__btn","card__btn--buy",{select:v(j,t)}),type:"button","aria-label":"btn-buy",children:[j.some((function(e){return e.id===t.id}))?"Selected":"Add to cart",x&&Object.hasOwnProperty.call(x,"quantity")&&x.quantity>1?"(".concat(x.quantity,")"):""]}),Object(U.jsx)("button",{onClick:function(){return function(e){var c=v(s,e);p(c?N(t):f(t))}(t)},className:b()("card__btn","card__btn--like",{liked:v(s,t)}),type:"button","aria-label":"btn"})]})},H=(c(58),function(e){var t=e.product;return Object(U.jsx)("li",{className:"card__item",children:Object(U.jsx)("div",{className:"card",children:Object(U.jsxs)("div",{className:"card__container",children:[Object(U.jsxs)("div",{className:"card__head",children:[Object(U.jsx)("div",{className:"card__img-block",children:Object(U.jsx)("img",{src:t.imageUrl,alt:"",className:"card__img"})}),Object(U.jsx)(n.b,{className:"card__link",to:"/".concat(t.type,"s/").concat(t.id),children:t.name}),Object(U.jsx)("div",{className:"card__price",children:0===t.discount?"$".concat(t.price):Object(U.jsxs)(U.Fragment,{children:["$".concat(t.price-t.price*t.discount/100),Object(U.jsx)("span",{className:"card__price--sale",children:t.price})]})})]}),Object(U.jsxs)("div",{className:"card__info-block",children:[Object(U.jsxs)("div",{className:"card__info",children:[Object(U.jsx)("span",{className:"card__info--title",children:"Screen"}),Object(U.jsx)("span",{className:"card__info--charac",children:t.screen})]}),Object(U.jsxs)("div",{className:"card__info",children:[Object(U.jsx)("span",{className:"card__info--title",children:"Capacity"}),Object(U.jsx)("span",{className:"card__info--charac",children:t.capacity})]}),Object(U.jsxs)("div",{className:"card__info",children:[Object(U.jsx)("span",{className:"card__info--title",children:"RAM"}),Object(U.jsx)("span",{className:"card__info--charac",children:t.ram})]})]}),Object(U.jsx)("div",{className:"card__footer",children:Object(U.jsx)(X,{item:t})})]})})})}),V=(c(59),c(44)),Y=(c(60),function(){return Object(U.jsx)("div",{className:"loader__container",children:Object(U.jsx)(V.a,{ariaLabel:"loading-indicator",height:200,width:200,strokeWidth:5,strokeWidthSecondary:1,color:"#89939A",secondaryColor:"#E2E6E9"})})}),z=(c(61),function(){return Object(U.jsxs)("div",{className:"error",children:[Object(U.jsx)("h1",{className:"main__section--title",children:"Please reload page"}),Object(U.jsx)("button",{className:"error__btn",onClick:function(){window.location.reload()},type:"button","aria-label":"btn",children:"Reload"})]})}),G=function(){var e=Object(l.useState)(0),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(0),i=Object(r.a)(s,2),o=i[0],j=i[1],d=Object(l.useState)(0),u=Object(r.a)(d,2),m=u[0],_=u[1],O=Object(l.useState)([]),p=Object(r.a)(O,2),x=p[0],f=p[1],N=Object(l.useState)([]),v=Object(r.a)(N,2),g=v[0],y=v[1],k=Object(l.useState)([]),w=Object(r.a)(k,2),I=w[0],C=w[1],S=Object(l.useState)([]),q=Object(r.a)(S,2),E=q[0],B=q[1],F=Object(l.useState)(!0),A=Object(r.a)(F,2),L=A[0],T=A[1],P=Object(l.useState)(!1),M=Object(r.a)(P,2),R=M[0],D=M[1];Object(l.useEffect)((function(){var e=Object(h.a)(E).filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}));C(e)}),[E]),Object(l.useEffect)((function(){var e=Object(h.a)(E).filter((function(e){return e.discount>0})).sort((function(e,t){return t.price/100*t.discount-e.price/100*e.discount}));y(e)}),[E]);var J=function(e,t){e((function(e){return e===t.length-1?0:e+1}))},X=function(e,t){e((function(e){return 0===e?t.length-1:e-1}))};Object(l.useEffect)((function(){var e=setTimeout((function(){J(a,x)}),5e3);return function(){clearTimeout(e)}}),[c]),Object(l.useEffect)((function(){K().then((function(e){return f(e)})),$().then((function(e){B(e),T(!1)})).catch((function(){D(!0),T(!1)}))}),[]);for(var V=0,G=0,W=1;W<10;W+=1)G+=288,window.matchMedia("(min-width: ".concat(G,"px)")).matches&&(V=W);return L?Object(U.jsx)(Y,{}):!L&&R?Object(U.jsx)(z,{}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("section",{className:"slider main__section",children:[Object(U.jsx)("button",{className:"slider__btn slider__btn--left",onClick:function(){return X(a,x)},"aria-label":"btn",type:"button"}),Object(U.jsx)("div",{className:"slider__block-img",children:Object(U.jsx)("div",{className:"slider__wrapper",style:{transform:"translateX(".concat(-100*c,"%)")},children:x.map((function(e){return Object(U.jsx)("img",{src:e.img,alt:"banner",className:"slider__img"},e.img)}))})}),Object(U.jsx)("button",{className:"slider__btn slider__btn--right",onClick:function(){return J(a,x)},"aria-label":"btn",type:"button"})]}),Object(U.jsx)("section",{className:"hot-price main__section",children:Object(U.jsxs)("div",{className:"hot-price__content",children:[Object(U.jsxs)("div",{className:"main__head",children:[Object(U.jsx)("h1",{className:"main__section--title",children:"Hot prices"}),Object(U.jsxs)("div",{className:"btn__block",children:[Object(U.jsx)("button",{className:b()("btn","btn--prev",{disabled:0===m}),onClick:function(){return X(_,E)},disabled:0===m,"aria-label":"btn-prev",type:"button"}),Object(U.jsx)("button",{className:b()("btn","btn--next",{disabled:m===g.length-V}),onClick:function(){return J(_,E)},disabled:m===g.length-V,"aria-label":"btn-next",type:"button"})]})]}),Object(U.jsx)("div",{className:"card__wrapper",children:Object(U.jsx)("div",{className:"card__block",children:Object(U.jsx)("ul",{className:"card__list",style:{transform:"translateX(-".concat(288*m,"px)")},"data-cy":"cardContainer",children:g&&g.map((function(e){return Object(U.jsx)(H,{product:e},e.id)}))})})})]})}),Object(U.jsxs)("section",{className:"category main__section",children:[Object(U.jsx)("div",{className:"category__head",children:Object(U.jsx)("h2",{className:"main__section--title",children:"Shop by category"})}),Object(U.jsx)("nav",{className:"category__wrapper",children:Object(U.jsxs)("ul",{className:"category__list",children:[Object(U.jsxs)("li",{className:"category__item",children:[Object(U.jsx)(n.b,{to:"/phones",className:"category__link category__link--phones"}),Object(U.jsx)("h3",{className:"category__title",children:"Mobile phones"}),Object(U.jsx)("span",{className:"page__count",children:"".concat(E.filter((function(e){return"phone"===e.type})).length," models")})]}),Object(U.jsxs)("li",{className:"category__item",children:[Object(U.jsx)(n.b,{to:"/tablets",className:"category__link category__link--tablets"}),Object(U.jsx)("h3",{className:"category__title",children:"Tablets"}),Object(U.jsx)("span",{className:"page__count",children:"".concat(E.filter((function(e){return"tablet"===e.type})).length," models")})]}),Object(U.jsxs)("li",{className:"category__item",children:[Object(U.jsx)(n.b,{to:"/accessories",className:"category__link category__link--accessories"}),Object(U.jsx)("h3",{className:"category__title",children:"Accessories"}),Object(U.jsx)("span",{className:"page__count",children:"".concat(0+E.filter((function(e){return"accessories"===e.type})).length," accessories")})]})]})})]}),Object(U.jsxs)("section",{className:"brand main__section",children:[Object(U.jsxs)("div",{className:"main__head",children:[Object(U.jsx)("h2",{className:"main__section--title",children:"Brand new models"}),Object(U.jsxs)("div",{className:"btn__block",children:[Object(U.jsx)("button",{className:b()("btn","btn--prev",{disabled:0===o}),onClick:function(){return X(j,I)},disabled:0===o,"aria-label":"btn-prev",type:"button"}),Object(U.jsx)("button",{className:b()("btn","btn--next",{disabled:o===I.length-V}),onClick:function(){return J(j,I)},disabled:o===I.length-V,"aria-label":"btn-next",type:"button"})]})]}),Object(U.jsx)("div",{className:"card__wrapper",children:Object(U.jsx)("div",{className:"card__block",children:Object(U.jsx)("ul",{className:"card__list",style:{transform:"translateX(-".concat(288*o,"px)")},"data-cy":"cardContainer",children:I&&I.map((function(e){return Object(U.jsx)(H,{product:e},e.id)}))})})})]})]})},W=(c(62),function(e){var t=e.value,c=e.isSelect,a=e.handleActiveSelect,s=e.handleOnKeyDown,n=e.handleChooseValue,i=e.listItems,r=e.onBlurFromLastItem,o=e.onBlurBlock,j=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=function(e){j.current&&!j.current.contains(e.target)&&o()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),Object(U.jsxs)("div",{className:"custom-select",role:"listbox",ref:j,children:[Object(U.jsx)("button",{className:b()("filter__block",{active:c}),onClick:a,"aria-expanded":c,type:"button","aria-haspopup":"listbox",children:t}),Object(U.jsx)("ul",{className:b()("filter__block-sort",{active:c}),children:i.map((function(e){return Object(U.jsx)("li",{className:b()("filter__item",{active:t===e}),role:"option","aria-selected":t===e,tabIndex:0,onClick:function(){return n(e)},onKeyDown:function(t){return s(t,e)},onBlur:function(){return r(i,e)},children:e},e)}))})]})}),Q=(c(63),["8","16","32","64","All"]),Z=["Newest","Alphabetically","Low price","High price"],ee=function(e){for(var t=e.query,c=Object(n.d)(),a=Object(r.a)(c,2),s=a[0],i=a[1],o=Object(j.n)(),d=Object(l.useState)(!1),u=Object(r.a)(d,2),_=u[0],O=u[1],p=Object(l.useState)(!1),x=Object(r.a)(p,2),f=x[0],N=x[1],v=Object(l.useState)(!0),g=Object(r.a)(v,2),y=g[0],k=g[1],w=Object(l.useState)([]),I=Object(r.a)(w,2),C=I[0],S=I[1],q=Object(l.useState)([]),E=Object(r.a)(q,2),B=E[0],F=E[1],A=Object(l.useState)([]),L=Object(r.a)(A,2),P=L[0],M=L[1],R=m(T).favoriteItem,D=s.get("per_page")||"8",J=s.get("sort")||"Choose",K=s.get("page")||"1",X=[],V=1;V<=Math.ceil(C.length/+D);V+=1)X.push(V);var z=o.pathname.split("/").filter((function(e){return""!==e}))[0],G=z.slice(0,-1);Object(l.useEffect)((function(){"favorites"!==z?(k(!0),$().then((function(e){k(!1),S(e.filter((function(e){return e.type===G})))})).catch((function(){return k(!1)}))):S(R)}),[z]),Object(l.useEffect)((function(){"favorites"===z&&S(R)}),[R]),Object(l.useEffect)((function(){!function(){var e=Object(h.a)(C).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));M(e);var c=e.sort((function(e,t){switch(J.toLowerCase()){case"newest":return t.age-e.age;case"alphabetically":return e.name.localeCompare(t.name);case"low price":return e.price-t.price;case"high price":return t.price-e.price;default:return 0}}));F("All"===D?c:Object(h.a)(c).splice((+K-1)*+D,+D))}()}),[C,t,K,J,D]),Object(l.useEffect)((function(){s.delete("page"),i(s)}),[J,D]);return y&&"favorites"!==z?Object(U.jsx)(Y,{}):Object(U.jsxs)("div",{className:b()({"main__not-found":0===B.length}),children:[Object(U.jsxs)("div",{className:"breadcrumbs",children:[Object(U.jsx)(n.b,{to:"/home",className:"breadcrumbs__home"}),Object(U.jsx)("span",{className:"breadcrumbs__arrow"}),Object(U.jsx)(n.b,{to:{pathname:"../".concat(z)},className:"breadcrumbs__location",children:z.slice(0,1).toUpperCase()+z.slice(1)})]}),B.length>0?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{className:"page__title",children:function(){switch(z){case"phones":return"Mobile phones";case"tablets":return"Tablets";case"accessories":return"Accessories";case"favorites":return"Favorites";default:return""}}()}),Object(U.jsx)("span",{className:"page__count page__count--margin",children:"".concat(C.length," models")}),Object(U.jsxs)("div",{className:"page__filter",children:[Object(U.jsxs)("div",{className:"filter__wrapper",children:[Object(U.jsx)("span",{className:"filter__title",children:"Sort by"}),Object(U.jsx)(W,{value:J,isSelect:f,handleActiveSelect:function(){N(!f)},handleOnKeyDown:function(e,t){"Enter"===e.key&&(s.set("sort",t),i(s),N(!1))},handleChooseValue:function(e){s.set("sort",e),i(s),N(!1)},listItems:Z,onBlurFromLastItem:function(e,t){e[e.length-1]===t&&N(!1)},onBlurBlock:function(){N(!1)}})]}),Object(U.jsxs)("div",{className:"filter__wrapper",children:[Object(U.jsx)("span",{className:"filter__title",children:"Items on page"}),Object(U.jsx)(W,{value:D,isSelect:_,handleActiveSelect:function(){O(!_)},handleOnKeyDown:function(e,t){"Enter"===e.key&&(s.set("per_page",t),i(s),O(!1))},handleChooseValue:function(e){s.set("per_page",e),i(s),O(!1)},listItems:Q,onBlurFromLastItem:function(e,t){e[e.length-1]===t&&O(!1)},onBlurBlock:function(){O(!1)}})]})]}),Object(U.jsx)("div",{className:"page__mobiel",children:Object(U.jsx)("ul",{className:"card__list page__list","data-cy":"cardContainer",children:B.map((function(e){return Object(U.jsx)(H,{product:e},e.id)}))})}),"All"!==D&&+D<P.length&&Object(U.jsx)("div",{className:"mobiel__pagination pagination",children:Object(U.jsxs)("ul",{className:"pagination__list",children:[Object(U.jsx)("li",{className:"pagination__item",children:Object(U.jsx)("button",{className:"pagination__link pagination__link-prev",onClick:function(){1!==+K&&(s.set("page",String(+K-1)),i(s))},type:"button","aria-label":"prev-btn"})}),X.map((function(e){return Object(U.jsx)("li",{className:"pagination__item",children:Object(U.jsx)("button",{className:b()("pagination__link",{active:+K===e}),onClick:function(){s.set("page",String(e)),i(s)},type:"button","aria-label":"page-btn",children:e})},e)})),Object(U.jsx)("li",{className:"pagination__item",children:Object(U.jsx)("button",{className:"pagination__link pagination__link-next",onClick:function(){+K!==Math.ceil(C.length/+D)&&(s.set("page",String(+K+1)),i(s))},type:"button","aria-label":"next-btn"})})]})})]}):Object(U.jsx)("h1",{className:"page__title",children:"Product not found"})]})},te=(c(64),function(){window.history.back()}),ce=function(){var e=Object(l.useState)(),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(),i=Object(r.a)(s,2),o=i[0],d=i[1],u=Object(l.useState)([]),m=Object(r.a)(u,2),_=m[0],h=m[1],O=Object(l.useState)(0),p=Object(r.a)(O,2),x=p[0],f=p[1],N=Object(j.n)().pathname.split("/").filter((function(e){return""!==e})),v=Object(j.r)().id;Object(l.useEffect)((function(){$().then((function(e){return h(e)}))}),[]),Object(l.useEffect)((function(){J(v).then((function(e){a(e),d(e.images[0])}))}),[v]);Object(l.useEffect)((function(){var e=setTimeout((function(){var e,t;c&&o&&d((e=o,(t=c.images).findIndex((function(t){return t===e}))===t.length-1?t[0]:t[t.findIndex((function(t){return t===e}))+1]))}),5e3);return function(){clearTimeout(e)}}),[c,o]);for(var g=0,y=0,k=1;k<5;k+=1)y+=288,!0===window.matchMedia("(min-width: ".concat(y,"px)")).matches&&(g=k);var w=_.find((function(e){return e.id===v})),I=w&&w.price-w.price*(w.discount/100);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"breadcrumbs",children:[Object(U.jsx)(n.b,{to:"/home",className:"breadcrumbs__home"}),Object(U.jsx)("span",{className:"breadcrumbs__arrow"}),N.map((function(e){return Object(U.jsxs)("span",{className:"breadcrumbs__block",children:[Object(U.jsx)(n.b,{to:{pathname:"/".concat(e)},className:"breadcrumbs__location",children:e.slice(0,1).toUpperCase()+e.slice(1)}),e!==N[N.length-1]&&Object(U.jsx)("span",{className:"breadcrumbs__arrow"})]},e)}))]}),Object(U.jsxs)("div",{className:"breadcrumbs__back",children:[Object(U.jsx)("span",{className:"breadcrumbs__arrow breadcrumbs__arrow--back"}),Object(U.jsx)("button",{className:"breadcrumbs__go-back",onClick:te,type:"button",children:"Back"})]}),c&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{className:"main__section--title",children:c.name}),Object(U.jsxs)("div",{className:"product",children:[Object(U.jsxs)("section",{className:"product__block-imgs",children:[Object(U.jsx)("div",{className:"product__all-imgs",children:c.images.map((function(e){return Object(U.jsx)("button",{className:b()("product__block-img",{active:o===e}),type:"button",onClick:function(){return d(e)},children:Object(U.jsx)("img",{src:e,alt:"img",className:"product__img"})},e)}))}),Object(U.jsx)("div",{className:"product__active-img",children:Object(U.jsx)("img",{src:o,alt:""})})]}),Object(U.jsxs)("section",{className:"product__block info",children:[Object(U.jsxs)("div",{className:"product__buy-block",children:[Object(U.jsx)("div",{className:"product__price",children:w&&0===w.discount?w.price:w&&Object(U.jsxs)(U.Fragment,{children:["$".concat(I),Object(U.jsx)("span",{className:"card__price--sale",children:w.price})]})}),Object(U.jsx)("div",{className:"product__buy",children:w&&Object(U.jsx)(X,{item:w})})]}),Object(U.jsxs)("ul",{className:"product__charac",children:[Object(U.jsxs)("li",{className:"product__charac-item",children:[Object(U.jsx)("span",{className:"product__spec",children:"Screen"}),Object(U.jsx)("span",{className:"product__value",children:c.display.screenSize})]}),Object(U.jsxs)("li",{className:"product__charac-item",children:[Object(U.jsx)("span",{className:"product__spec",children:"Resolution"}),Object(U.jsx)("span",{className:"product__value",children:c.display.screenResolution})]}),Object(U.jsxs)("li",{className:"product__charac-item",children:[Object(U.jsx)("span",{className:"product__spec",children:"Processor"}),Object(U.jsx)("span",{className:"product__value",children:c.hardware.cpu})]}),Object(U.jsxs)("li",{className:"product__charac-item",children:[Object(U.jsx)("span",{className:"product__spec",children:"RAM"}),Object(U.jsx)("span",{className:"product__value",children:c.storage.ram})]})]})]}),Object(U.jsxs)("section",{className:"about product__block",children:[Object(U.jsx)("div",{className:"about__head",children:Object(U.jsx)("h2",{className:"about__main-title",children:"About"})}),Object(U.jsx)("div",{className:"description__text",children:c.description})]}),Object(U.jsxs)("section",{className:"product__block tech-specs",children:[Object(U.jsx)("div",{className:"about__head",children:Object(U.jsx)("h2",{className:"about__main-title",children:"Tech specs"})}),Object(U.jsxs)("ul",{className:"tech-specs__list",children:[Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"Screen"}),Object(U.jsx)("span",{className:"tech__specs__value",children:c.display.screenSize})]}),Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"Resolution"}),Object(U.jsx)("span",{className:"tech__specs__value",children:c.display.screenResolution})]}),Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"Processor"}),Object(U.jsx)("span",{className:"tech__specs__value",children:c.hardware.cpu})]}),Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"RAM"}),Object(U.jsx)("span",{className:"tech__specs__value",children:c.storage.ram})]}),Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"Built in memory"}),Object(U.jsx)("span",{className:"tech__specs__value",children:c.storage.flash})]}),Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"Camera"}),Object(U.jsx)("span",{className:"tech__specs__value",children:c.camera.primary})]}),Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"Zoom"}),Object(U.jsx)("span",{className:"tech__specs__value"})]}),Object(U.jsxs)("li",{className:"tech-specs__item",children:[Object(U.jsx)("span",{className:"tech-specs__spec",children:"Cell"}),Object(U.jsx)("span",{className:"tech-specs__value",children:"".concat(c.connectivity.cell)})]})]})]})]}),Object(U.jsxs)("div",{className:"recommended",children:[Object(U.jsxs)("div",{className:"main__head",children:[Object(U.jsx)("h2",{className:"main__section--title",children:"You may also like"}),Object(U.jsxs)("div",{className:"btn__block",children:[Object(U.jsx)("button",{className:"btn btn--prev",onClick:function(){return e=_,void f((function(t){return 0===t?e.length-1:t-1}));var e},disabled:0===x,"aria-label":"btn-prev",type:"button"}),Object(U.jsx)("button",{className:"btn btn--next",onClick:function(){return e=_,void f((function(t){return t===e.length-1?0:t+1}));var e},disabled:x===_.length-g,"aria-label":"btn-next",type:"button"})]})]}),Object(U.jsx)("div",{className:"card__wrapper",children:Object(U.jsx)("div",{className:"card__block",children:Object(U.jsx)("ul",{className:"card__list",style:{transform:"translateX(-".concat(288*x,"px)")},"data-cy":"cardContainer",children:_.map((function(e){return Object(U.jsx)(H,{product:e},e.id)}))})})})]})]})]})},ae=(c(65),function(e){var t=e.product,c=e.addItem,a=e.removeItem,s=e.removeProduct;return Object(U.jsxs)("li",{className:"cart__item",children:[Object(U.jsx)("button",{className:"btn btn__close",onClick:function(){return s(t)},type:"button","aria-label":"btn"}),Object(U.jsx)("div",{className:"product__block-img product__block--border",children:Object(U.jsx)("img",{src:t.imageUrl,alt:"",className:"product__img"})}),Object(U.jsxs)("div",{className:"cart__main-info",children:[Object(U.jsx)("div",{className:"cart__name",children:t.name}),Object(U.jsxs)("div",{className:"cart__quantity",children:[Object(U.jsx)("button",{onClick:function(){return a(t)},className:b()("btn","btn__minus",{disabled:!t.quantity||1===t.quantity}),disabled:!t.quantity||1===t.quantity,type:"button","aria-label":"btn"}),Object(U.jsx)("div",{className:"cart__count cart__count-item",children:t.quantity?t.quantity:1}),Object(U.jsx)("button",{className:"btn btn__plus",onClick:function(){return c(t)},type:"button","aria-label":"btn"})]})]}),Object(U.jsx)("div",{className:"cart__price",children:"$".concat(t.price*(100-t.discount)/100)})]})}),se=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{children:"Thank You!"}),Object(U.jsx)("p",{children:"Thanks for your order. Your purchase will be packaged and sent to you shortly."})]})},ne=(c(66),function(){window.history.back()}),ie=function(){for(var e=d("prodBuy",[]),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(!1),n=Object(r.a)(s,2),i=n[0],o=n[1],b=u(),j=m(L).basketItem,_=0,h=0;h<c.length;h+=1)c[h].quantity?_+=c[h].quantity*(c[h].price*(100-c[h].discount)/100):_+=c[h].price*(100-c[h].discount)/100;Object(l.useEffect)((function(){a(j)}),[j]);var O=function(e){b(C(e))},p=function(e){b(I(e))},x=function(e){b(E(e))},f=0;return j.forEach((function(e){Object.hasOwnProperty.call(e,"quantity")?f+=e.quantity:f+=1})),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"breadcrumbs__back",children:[Object(U.jsx)("span",{className:"breadcrumbs__arrow breadcrumbs__arrow--back"}),Object(U.jsx)("button",{className:"breadcrumbs__go-back",onClick:ne,type:"button",children:"Back"})]}),i?Object(U.jsx)(se,{}):Object(U.jsxs)("div",{className:"cart main__section",children:[Object(U.jsx)("h1",{className:"main__section--title cart__title",children:"Cart"}),Object(U.jsxs)("div",{className:"cart__block",children:[0===c.length&&Object(U.jsx)("h2",{className:"main__section--title completed__title",children:"Cart is empty"}),Object(U.jsx)("ul",{className:"cart__list",children:j.map((function(e){return Object(U.jsx)(ae,{product:e,addItem:O,removeItem:p,removeProduct:x},e.id)}))}),Object(U.jsxs)("div",{className:"cart__checkout",children:[Object(U.jsxs)("div",{className:"cart__info",children:[Object(U.jsx)("div",{className:"cart__all-price",children:"$".concat(_)}),Object(U.jsx)("span",{className:"cart__count",children:"Total for ".concat(f," items")})]}),Object(U.jsx)("div",{className:"cart__line"}),Object(U.jsx)("button",{onClick:function(){return 0!==c.length&&(o(!0),void b(B({})))},className:"card__btn card__btn--buy btn--checkout",type:"button","aria-label":"btn",children:"Checkout"})]})]})]})]})},re=function(){window.scrollTo(0,0)},le=["phones","tablets","accessories","favorites"],oe=function(){var e=Object(n.d)(),t=Object(r.a)(e,2),c=t[0],a=t[1],s=u(),i=Object(j.n)(),o=Object(l.useState)(!1),_=Object(r.a)(o,2),h=_[0],O=_[1],p=Object(l.useState)(c.get("query")||""),x=Object(r.a)(p,2),f=x[0],N=x[1],g=function(e,t){var c=Object(l.useState)(e),a=Object(r.a)(c,2),s=a[0],n=a[1];return Object(l.useEffect)((function(){var c=setTimeout((function(){n(e)}),t);return function(){clearTimeout(c)}}),[e,t]),s}(f,2e3),y=c.get("query")||"",k=Object(l.useRef)(null),w=Object(l.useRef)(null),I=m(T),C=m(L),q=d("prodFavorite",[]),E=Object(r.a)(q,1)[0],B=d("prodBuy",[]),F=Object(r.a)(B,1)[0],A=0;C.basketItem.forEach((function(e){Object.hasOwnProperty.call(e,"quantity")?A+=e.quantity:A+=1}));var P=i.pathname.split("/")[1],M=le.includes(P),R="cart".includes(P)&&""!==P;return Object(l.useEffect)((function(){N("")}),[i.pathname]),Object(l.useEffect)((function(){var e;(e=g)?c.set("query",e):c.delete("query"),a(c)}),[g]),Object(l.useEffect)((function(){s(v(E)),s(S(F))}),[]),Object(l.useEffect)((function(){var e=function(e){k.current&&!k.current.contains(e.target)&&w.current&&!w.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]),Object(l.useEffect)((function(){O(!1)}),[window.location.hash]),Object(U.jsxs)("div",{className:"page",children:[Object(U.jsxs)("header",{className:"header",children:[Object(U.jsxs)("div",{className:"header__content",children:[Object(U.jsx)(n.b,{to:"/",className:"logo"}),Object(U.jsx)("nav",{className:"navigation",children:Object(U.jsxs)("ul",{className:"navigation__list",children:[Object(U.jsx)("li",{className:"navigation__item",children:Object(U.jsx)(n.c,{to:"/",className:function(e){var t=e.isActive;return b()("navigation__link",{active:t})},"data-cy":"categoryLinksContainer",children:"Home"})}),Object(U.jsx)("li",{className:"navigation__item",children:Object(U.jsx)(n.c,{to:"/phones",className:function(e){var t=e.isActive;return b()("navigation__link",{active:t})},"data-cy":"categoryLinksContainer",children:"Phones"})}),Object(U.jsx)("li",{className:"navigation__item",children:Object(U.jsx)(n.c,{to:"/tablets",className:function(e){var t=e.isActive;return b()("navigation__link",{active:t})},"data-cy":"categoryLinksContainer",children:"tablets"})}),Object(U.jsx)("li",{className:"navigation__item",children:Object(U.jsx)(n.c,{to:"/accessories",className:function(e){var t=e.isActive;return b()("navigation__link",{active:t})},"data-cy":"categoryLinksContainer",children:"accessories"})})]})})]}),Object(U.jsxs)("div",{className:"header__buy",children:[M&&Object(U.jsxs)("div",{className:"header__search",children:[Object(U.jsx)("input",{className:b()("field__search--input",{close:y.length>0}),placeholder:"Search in ".concat(P,"..."),value:f,onChange:function(e){N(e.target.value)}}),Object(U.jsx)("button",{className:b()("field__search--input","field__search--btn",{close:y.length>0}),onClick:function(){N(""),c.delete("query"),a(c)},type:"button","aria-label":"btn","data-cy":"searchDelete"})]}),!R&&Object(U.jsx)("div",{className:"header__btn header__btn--like",children:I.favoriteItem.length>0&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("span",{className:"count",children:I.favoriteItem.length}),Object(U.jsx)(n.b,{to:"favorites","data-cy":"addToFavorite",className:"header__link"})]})}),Object(U.jsx)("div",{className:"header__btn header__btn--cart",children:C.basketItem.length>0&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("span",{className:"count",children:A}),Object(U.jsx)(n.b,{to:"/cart","data-cy":"productQauntity",className:"header__link"})]})}),Object(U.jsx)("button",{className:b()("header__btn","header__btn--menu",{active:h}),onClick:function(){return O(!h)},type:"button","aria-label":"btn",ref:w})]})]}),Object(U.jsx)("nav",{className:b()("navigation--mobiel",{active:h}),id:"menu",ref:k,children:Object(U.jsxs)("ul",{className:"navigation--mobiel__list",children:[Object(U.jsx)("li",{className:"navigation--mobiel__item",children:Object(U.jsx)(n.c,{to:"/home",className:"navigation--mobiel__link",children:"home"})}),Object(U.jsx)("li",{className:"navigation--mobiel__item",children:Object(U.jsx)(n.c,{to:"/phones",className:"navigation--mobiel__link",children:"Phones"})}),Object(U.jsx)("li",{className:"navigation--mobiel__item",children:Object(U.jsx)(n.c,{to:"/tablets",className:"navigation--mobiel__link",children:"tablets"})}),Object(U.jsx)("li",{className:"navigation--mobiel__item",children:Object(U.jsx)(n.c,{to:"/accessories",className:"navigation--mobiel__link",children:"accessories"})}),Object(U.jsx)("li",{className:"navigation--mobiel__item",children:Object(U.jsx)(n.c,{to:"/phones",className:"navigation--mobiel__link",children:"Github"})}),Object(U.jsx)("li",{className:"navigation--mobiel__item",children:Object(U.jsx)(n.c,{to:"/tablets",className:"navigation--mobiel__link",children:"Contacts"})}),Object(U.jsx)("li",{className:"navigation--mobiel__item",children:Object(U.jsx)(n.c,{to:"/accessories",className:"navigation--mobiel__link",children:"rights"})})]})}),Object(U.jsx)("main",{className:"main",children:Object(U.jsx)("div",{className:"container",children:Object(U.jsxs)(j.d,{children:[Object(U.jsx)(j.b,{path:"/",element:Object(U.jsx)(G,{})}),Object(U.jsx)(j.b,{path:"/home",element:Object(U.jsx)(j.a,{to:"/",replace:!0})}),Object(U.jsxs)(j.b,{path:"/phones",children:[Object(U.jsx)(j.b,{index:!0,element:Object(U.jsx)(ee,{query:y})}),Object(U.jsx)(j.b,{path:":id",element:Object(U.jsx)(ce,{})})]}),Object(U.jsxs)(j.b,{path:"/tablets",children:[Object(U.jsx)(j.b,{index:!0,element:Object(U.jsx)(ee,{query:y})}),Object(U.jsx)(j.b,{path:":id",element:Object(U.jsx)(ce,{})})]}),Object(U.jsxs)(j.b,{path:"/accessories",children:[Object(U.jsx)(j.b,{index:!0,element:Object(U.jsx)(ee,{query:y})}),Object(U.jsx)(j.b,{path:":id",element:Object(U.jsx)(ce,{})})]}),Object(U.jsx)(j.b,{path:"/favorites",element:Object(U.jsx)(ee,{query:y})}),Object(U.jsx)(j.b,{path:"/cart",element:Object(U.jsx)(ie,{})})]})})}),Object(U.jsx)("footer",{className:"footer",children:Object(U.jsx)("div",{className:"container",children:Object(U.jsxs)("div",{className:"footer__content",children:[Object(U.jsx)(n.b,{to:"/",className:"logo"}),Object(U.jsx)("nav",{className:"footer__nav",children:Object(U.jsxs)("ul",{className:"footer__list",children:[Object(U.jsx)("li",{className:"footer__item",children:Object(U.jsx)("a",{href:"/",className:"footer__link",children:"Github"})}),Object(U.jsx)("li",{className:"footer__item",children:Object(U.jsx)("a",{href:"/",className:"footer__link",children:"Contacts"})}),Object(U.jsx)("li",{className:"footer__item",children:Object(U.jsx)("a",{href:"/",className:"footer__link",children:"rights"})})]})}),Object(U.jsxs)("div",{className:"footer__back-block",children:[Object(U.jsx)("span",{className:"footer__back",children:"Back to top"}),Object(U.jsx)("button",{onClick:re,className:"btn btn--back",type:"button","aria-label":"btn"})]})]})})})]})};s.a.render(Object(U.jsx)(i.a,{store:A,children:Object(U.jsx)(n.a,{children:Object(U.jsx)(oe,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.aa5b3919.chunk.js.map