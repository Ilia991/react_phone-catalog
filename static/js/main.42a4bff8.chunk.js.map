{"version":3,"sources":["app/hooks.ts","feature/favorite.ts","feature/basket.ts","app/store.ts","server/fetchJson.ts","components/BlockBuyBtn/index.tsx","components/BlockBuyBtn/BlockBuyBtn.tsx","components/Card/index.tsx","components/Card/Card.tsx","components/Loader/index.tsx","components/Loader/Loader.tsx","components/PageError/index.tsx","components/PageError/PageError.tsx","components/PageHome/index.tsx","components/PageHome/PageHome.tsx","components/CustomSelect/index.tsx","components/CustomSelect/CustomSelect.tsx","components/ProductList/ProductsList.tsx","components/ProductList/index.tsx","components/ProductPage/ProductPage.tsx","components/ProductPage/index.tsx","components/BasketItem/index.tsx","components/BasketItem/BasketItem.tsx","components/BasketCompleted/BasketCompleted.tsx","components/PageCart/index.tsx","components/PageCart/PageCart.tsx","components/App/App.tsx","index.tsx"],"names":["useLocaleStorage","key","initialValue","useState","item","localStorage","getItem","JSON","parse","value","setValue","v","setItem","stringify","useAppDispatch","useDispatch","useAppSelector","useSelector","favoriteSlice","createSlice","name","initialState","favoriteItem","reducers","addAllFavorite","state","action","payload","addFavorite","removeFavorite","filter","id","actions","basketSlice","basketItem","addAllBasket","addItemBasket","some","map","Object","hasOwnProperty","call","quantity","removeAllItems","removeItemInBasket","removeItemFromBasket","store","configureStore","reducer","favorite","favoriteReducer","basket","basketReducer","basketItems","favoriteItems","baseUrl","getProducts","a","fetch","fetchJson","json","data","getItemProduct","getBanners","BlockBuyBtn","setFavorite","setBasket","dispatch","useEffect","someProduct","productItems","product","i","findProduct","find","p","onClick","className","classNames","select","type","findItem","addItemFavorite","liked","Card","src","imageUrl","alt","to","discount","price","screen","capacity","ram","Loader","ariaLabel","height","width","strokeWidth","strokeWidthSecondary","color","secondaryColor","PageError","window","location","reload","PageHome","countBanner","setCountBanner","countBrand","setCountBrand","slidHot","setSlidHot","banners","setBanners","hotPriceProduct","setHotPriceProduct","brandProduct","setBrandProduct","products","setProducts","isLoader","setLoader","isError","setError","FilterBrand","sort","item1","item2","filterHotPrice","nextSlide","set","arr","count","length","prevSlide","timer","setTimeout","clearTimeout","then","bannerItems","prodItems","catch","blockWidth","mediaV","matchMedia","matches","style","transform","b","img","disabled","prod","CustomSelect","isSelect","handleActiveSelect","handleOnKeyDown","handleChooseValue","listItems","onBlurFromLastItem","onBlurBlock","ref","useRef","handlClickOut","e","current","contains","target","document","addEventListener","removeEventListener","role","active","tabIndex","onKeyDown","onBlur","itemsPageArr","sortArr","ProductsList","query","useSearchParams","searchParams","setSearchParams","useLocation","selectSortCount","setSelectSortCount","selectSortValue","setSelectSortValue","loader","items","setItems","visibleProd","setVisibleProd","perPage","get","page","pageArr","Math","ceil","push","firstLocation","pathname","split","l","typeProduct","slice","sortedProducts","c","toLowerCase","includes","p1","p2","age","localeCompare","splice","sortVisibleProd","delete","toUpperCase","pageTitle","itemsArr","String","handGoBack","history","back","ProductPage","setProduct","activeImg","setActiveImg","allProducts","setAllProducts","arrLocation","useParams","images","findIndex","imges","discontPrice","display","screenSize","screenResolution","hardware","cpu","storage","description","flash","camera","primary","connectivity","cell","BasketItem","addItem","removeItem","removeProduct","BasketCompleted","PageCart","basketBuy","buy","setBuy","allCount","countCart","forEach","el","BackToTop","scrollTo","App","menu","setMenu","searchValue","setSearchValue","refMenu","favoriteProduct","basketProduct","locationName","checkPageForSearch","checkedBasketPage","debounceQuery","callback","delay","useCallback","args","useDebounce","text","handleOutClickMenu","hash","isActive","close","placeholder","onChange","path","element","replace","index","href","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.42a4bff8.chunk.js","sourcesContent":["import {\n  useCallback,\n  useRef,\n  useState,\n} from 'react';\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from './store';\n\n// eslint-disable-next-line\nexport function useDebounce<T extends (...args: any[]) => void>(callback: T, delay: number) : (...args: Parameters<T>) => void {\n  const timer = useRef<NodeJS.Timeout | undefined>();\n\n  return useCallback(\n    (...args: Parameters<T>) => {\n      if (timer.current) {\n        clearTimeout(timer.current);\n      }\n\n      timer.current = setTimeout(() => {\n        callback(...args);\n      }, delay);\n    },\n    [callback, delay],\n  );\n}\n\nexport function useLocaleStorage<T>(\n  key: string,\n  initialValue: T,\n): [T, (value: T) => void] {\n  const [value, setValue] = useState<T>(() => {\n    try {\n      const item = localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : initialValue;\n    } catch {\n      return initialValue;\n    }\n  });\n\n  const save = (v: T): void => {\n    setValue(v);\n    localStorage.setItem(key, JSON.stringify(v));\n  };\n\n  return [value, save];\n}\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { PayloadAction, Slice, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../type/Product';\n\nexport interface FavoriteProps {\n  favoriteItem: Product[],\n}\n\nconst initialState: FavoriteProps = {\n  favoriteItem: [],\n};\n\nexport const favoriteSlice: Slice<FavoriteProps> = createSlice({\n  name: 'favorite',\n  initialState,\n  reducers: {\n    addAllFavorite: (state, action: PayloadAction<Product[]>) => {\n      return {\n        ...state,\n        favoriteItem: action.payload,\n      };\n    },\n    addFavorite: (state, action: PayloadAction<Product>) => {\n      return {\n        ...state,\n        favoriteItem: [...state.favoriteItem, action.payload],\n      };\n    },\n    removeFavorite: (state, action: PayloadAction<Product>) => {\n      return {\n        ...state,\n        favoriteItem: state.favoriteItem\n          .filter(item => item.id !== action.payload.id),\n      };\n    },\n  },\n});\n\nexport const {\n  addFavorite,\n  removeFavorite,\n  addAllFavorite,\n} = favoriteSlice.actions;\nexport default favoriteSlice.reducer;\n","import { PayloadAction, Slice, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../type/Product';\n\nexport interface StateProps {\n  basketItem: Product[];\n}\n\nconst initialState: StateProps = {\n  basketItem: [],\n};\n\nexport const basketSlice: Slice<StateProps> = createSlice({\n  name: 'favorite',\n  initialState,\n  reducers: {\n    addAllBasket: (state, action: PayloadAction<Product[]>) => {\n      return {\n        ...state,\n        basketItem: action.payload,\n      };\n    },\n    addItemBasket: (state, action: PayloadAction<Product>) => {\n      const itemExists = state.basketItem\n        .some(item => item.id === action.payload.id);\n\n      if (itemExists) {\n        return {\n          ...state,\n          basketItem: state.basketItem.map(item => {\n            if (item.id === action.payload.id) {\n              if (Object.hasOwnProperty.call(item, 'quantity')) {\n                return { ...item, quantity: item.quantity + 1 };\n              }\n\n              return { ...item, quantity: 2 };\n            }\n\n            return { ...item };\n          }),\n        };\n      }\n\n      return {\n        ...state,\n        basketItem: [...state.basketItem, action.payload],\n      };\n    },\n    removeAllItems: (state) => {\n      return {\n        ...state,\n        basketItem: [],\n      };\n    },\n    removeItemInBasket: (state, action: PayloadAction<Product>) => {\n      return {\n        ...state,\n        basketItem: state.basketItem.map(item => {\n          if (item.id === action.payload.id) {\n            if (Object.hasOwnProperty.call(item, 'quantity')\n              && item.quantity > 0) {\n              return { ...item, quantity: item.quantity - 1 };\n            }\n\n            return { ...item, quantity: item.quantity - 1 };\n          }\n\n          return item;\n        }),\n      };\n    },\n    removeItemFromBasket: (state, action: PayloadAction<Product>) => {\n      return {\n        ...state,\n        basketItem: state.basketItem\n          .filter(item => item.id !== action.payload.id),\n      };\n    },\n  },\n});\n\nexport const {\n  addItemBasket,\n  removeItemInBasket,\n  addAllBasket,\n  removeItemFromBasket,\n  removeAllItems,\n} = basketSlice.actions;\nexport default basketSlice.reducer;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport favoriteReducer from '../feature/favorite';\nimport basketReducer from '../feature/basket';\n\nexport const store = configureStore({\n  reducer: {\n    favorite: favoriteReducer,\n    basket: basketReducer,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n\n/* eslint-disable @typescript-eslint/indent */\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n/* eslint-enable @typescript-eslint/indent */\n\nexport const basketItems = (state: RootState) => state.basket;\nexport const favoriteItems = (state: RootState) => state.favorite;\n","import { Banner } from '../type/Banner';\nimport { Product } from '../type/Product';\n\nconst baseUrl\n= 'https://mate-academy.github.io/react_phone-catalog/api/products';\nconst bannerUrl = 'api/banner.json';\n\nexport const getProducts: () => Promise<Product[]> = async () => {\n  const fetchJson = await fetch(`${baseUrl}.json`);\n  const data: Product[] = await fetchJson.json();\n\n  return data;\n};\n\nexport const getItemProduct = async (id: string | undefined) => {\n  const fetchJson = await fetch(`${baseUrl}/${id}.json`);\n  const data = await fetchJson.json();\n\n  return data;\n};\n\nexport const getBanners: () => Promise<Banner[]> = async () => {\n  const fetchJson = await fetch(bannerUrl);\n  const data = await fetchJson.json();\n\n  return data;\n};\n","import { BlockBuyBtn } from './BlockBuyBtn';\n\nexport default BlockBuyBtn;\n","import React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport {\n  useAppDispatch,\n  useAppSelector,\n  useLocaleStorage,\n} from '../../app/hooks';\nimport { basketItems, favoriteItems } from '../../app/store';\nimport { addItemBasket } from '../../feature/basket';\nimport { addFavorite, removeFavorite } from '../../feature/favorite';\nimport { Product } from '../../type/Product';\nimport './BlockBuyBtn.scss';\n\ntype Props = {\n  item: Product;\n};\n\nexport const BlockBuyBtn: React.FC<Props> = ({ item }) => {\n  const [favorite, setFavorite]\n    = useLocaleStorage<Product[]>('prodFavorite', []);\n  const [basket, setBasket] = useLocaleStorage<Product[]>('prodBuy', []);\n\n  const { favoriteItem } = useAppSelector(favoriteItems);\n  const { basketItem } = useAppSelector(basketItems);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    setBasket(basketItem);\n  }, [basketItem]);\n\n  useEffect(() => {\n    setFavorite(favoriteItem);\n  }, [favoriteItem]);\n\n  const addItemCard = (product: Product) => {\n    dispatch(addItemBasket(product));\n  };\n\n  const someProduct = (productItems: Product[], product: Product) => {\n    return productItems.some(i => i.id === product.id);\n  };\n\n  const findProduct = basket.find(p => p.id === item.id);\n\n  const addItemFavorite = (product: Product) => {\n    const findItem = someProduct(favorite, product);\n\n    if (findItem) {\n      dispatch(removeFavorite(item));\n    } else {\n      dispatch(addFavorite(item));\n    }\n  };\n\n  return (\n    <>\n      <button\n        onClick={() => addItemCard(item)}\n        className={classNames(\n          'card__btn',\n          'card__btn--buy',\n          { select: someProduct(basket, item) },\n        )}\n        type=\"button\"\n        aria-label=\"btn-buy\"\n      >\n        {basket.some((i) => i.id === item.id) ? 'Selected' : 'Add to cart'}\n        {findProduct\n          && Object.hasOwnProperty.call(findProduct, 'quantity')\n          ? `(${findProduct.quantity})`\n          : ''}\n      </button>\n\n      <button\n        onClick={() => addItemFavorite(item)}\n        className={classNames(\n          'card__btn',\n          'card__btn--like',\n          { liked: someProduct(favorite, item) },\n        )}\n        type=\"button\"\n        aria-label=\"btn\"\n      />\n    </>\n  );\n};\n","import { Card } from './Card';\n\nexport default Card;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Product } from '../../type/Product';\nimport BlockBuyBtn from '../BlockBuyBtn';\nimport './Card.scss';\n\ntype Props = {\n  product:Product;\n};\n\nexport const Card: React.FC<Props> = ({ product }) => {\n  return (\n    <li className=\"card__item\">\n      <div className=\"card\">\n        <div className=\"card__container\">\n          <div className=\"card__head\">\n            <div className=\"card__img-block\">\n              <img\n                src={product.imageUrl}\n                alt=\"\"\n                className=\"card__img\"\n              />\n            </div>\n\n            <Link\n              className=\"card__link\"\n              to={`/${product.type}s/${product.id}`}\n            >\n              {product.name}\n            </Link>\n            <div className=\"card__price\">\n              {product.discount === 0 ? (\n                `$${product.price}`\n              ) : (\n                <>\n                  {`$${product.price - (product.price * product.discount) / 100}`}\n                  <span className=\"card__price--sale\">{product.price}</span>\n                </>\n              )}\n            </div>\n          </div>\n\n          <div className=\"card__info-block\">\n            <div className=\"card__info\">\n              <span className=\"card__info--title\">Screen</span>\n              <span className=\"card__info--charac\">{product.screen}</span>\n            </div>\n            <div className=\"card__info\">\n              <span className=\"card__info--title\">Capacity</span>\n              <span className=\"card__info--charac\">{product.capacity}</span>\n            </div>\n            <div className=\"card__info\">\n              <span className=\"card__info--title\">RAM</span>\n              <span className=\"card__info--charac\">{product.ram}</span>\n            </div>\n          </div>\n\n          <div className=\"card__footer\">\n            <BlockBuyBtn item={product} />\n          </div>\n        </div>\n      </div>\n    </li>\n  );\n};\n","import { Loader } from './Loader';\n\nexport default Loader;\n","import { Oval } from 'react-loader-spinner';\nimport './Loader.scss';\n\nexport const Loader = () => {\n  return (\n    <div className=\"loader__container\">\n      <Oval\n        ariaLabel=\"loading-indicator\"\n        height={200}\n        width={200}\n        strokeWidth={5}\n        strokeWidthSecondary={1}\n        color=\"#89939A\"\n        secondaryColor=\"#E2E6E9\"\n      />\n    </div>\n  );\n};\n","import { PageError } from './PageError';\n\nexport default PageError;\n","import './PageError.scss';\n\nexport const PageError = () => {\n  const handleReload = () => {\n    window.location.reload();\n  };\n\n  return (\n\n    <div className=\"error\">\n      <h1 className=\"main__section--title\">Please reload page</h1>\n\n      <button\n        className=\"error__btn\"\n        onClick={handleReload}\n        type=\"button\"\n        aria-label=\"btn\"\n      >\n        Reload\n      </button>\n    </div>\n  );\n};\n","import { PageHome } from './PageHome';\n\nexport default PageHome;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Product } from '../../type/Product';\nimport { getBanners, getProducts } from '../../server/fetchJson';\nimport Card from '../Card';\nimport './PageHome.scss';\nimport { Banner } from '../../type/Banner';\nimport Loader from '../Loader';\nimport PageError from '../PageError';\n\nexport const PageHome = () => {\n  const [countBanner, setCountBanner] = useState(0);\n  const [countBrand, setCountBrand] = useState(0);\n  const [slidHot, setSlidHot] = useState(0);\n\n  const [banners, setBanners] = useState<Banner[]>([]);\n  const [hotPriceProduct, setHotPriceProduct] = useState<Product[]>([]);\n  const [brandProduct, setBrandProduct] = useState<Product[]>([]);\n  const [products, setProducts] = useState<Product[]>([]);\n\n  const [isLoader, setLoader] = useState(true);\n  const [isError, setError] = useState(false);\n\n  useEffect(() => {\n    const copyProduct = [...products];\n    const FilterBrand = copyProduct.filter(item => item.discount === 0)\n      .sort((item1, item2) => item2.price - item1.price);\n\n    setBrandProduct(FilterBrand);\n  }, [products]);\n\n  useEffect(() => {\n    const copyProduct = [...products];\n    const filterHotPrice = copyProduct.filter(item => item.discount > 0)\n      .sort((item1, item2) => ((item2.price / 100) * item2.discount)\n        - ((item1.price / 100) * item1.discount));\n\n    setHotPriceProduct(filterHotPrice);\n  }, [products]);\n\n  const nextSlide = (\n    set:React.Dispatch<React.SetStateAction<number>>,\n    arr:Product[] | Banner[],\n  ) => {\n    set((count) => {\n      return count === arr.length - 1 ? 0 : count + 1;\n    });\n  };\n\n  const prevSlide = (\n    set:React.Dispatch<React.SetStateAction<number>>,\n    arr:Product[] | Banner[],\n  ) => {\n    set((count) => {\n      return count === 0 ? arr.length - 1 : count - 1;\n    });\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      nextSlide(setCountBanner, banners);\n    }, 5000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [countBanner]);\n\n  useEffect(() => {\n    getBanners()\n      .then(bannerItems => setBanners(bannerItems));\n\n    getProducts()\n      .then(prodItems => {\n        setProducts(prodItems);\n        setLoader(false);\n      })\n      .catch(() => {\n        setError(true);\n        setLoader(false);\n      });\n  }, []);\n\n  let blockWidth = 0;\n  let mediaV = 0;\n\n  for (let i = 1; i < 10; i += 1) {\n    mediaV += 288;\n\n    if (window.matchMedia(`(min-width: ${mediaV}px)`).matches) {\n      blockWidth = i;\n    }\n  }\n\n  if (isLoader) {\n    return (\n      <Loader />\n    );\n  }\n\n  if (!isLoader && isError) {\n    return (\n      <PageError />\n    );\n  }\n\n  return (\n    <>\n      <section className=\"slider main__section\">\n        <button\n          className=\"slider__btn slider__btn--left\"\n          onClick={() => prevSlide(setCountBanner, banners)}\n          aria-label=\"btn\"\n          type=\"button\"\n        />\n        <div className=\"slider__block-img\">\n          <div\n            className=\"slider__wrapper\"\n            style={{ transform: `translateX(${-100 * countBanner}%)` }}\n          >\n            {banners.map(b => (\n              <img\n                src={b.img}\n                key={b.img}\n                alt=\"banner\"\n                className=\"slider__img\"\n              />\n            ))}\n          </div>\n        </div>\n\n        <button\n          className=\"slider__btn slider__btn--right\"\n          onClick={() => nextSlide(setCountBanner, banners)}\n          aria-label=\"btn\"\n          type=\"button\"\n        />\n      </section>\n\n      <section className=\"hot-price main__section\">\n        <div className=\"hot-price__content\">\n          <div className=\"main__head\">\n            <h1 className=\"main__section--title\">Hot prices</h1>\n\n            <div className=\"btn__block\">\n              <button\n                className={classNames(\n                  'btn',\n                  'btn--prev',\n                  { disabled: slidHot === 0 },\n                )}\n                onClick={() => prevSlide(setSlidHot, products)}\n                disabled={slidHot === 0}\n                aria-label=\"btn-prev\"\n                type=\"button\"\n              />\n\n              <button\n                className={classNames(\n                  'btn',\n                  'btn--next',\n                  { disabled: slidHot === hotPriceProduct.length - blockWidth },\n                )}\n                onClick={() => nextSlide(setSlidHot, products)}\n                disabled={slidHot === hotPriceProduct.length - blockWidth}\n                aria-label=\"btn-next\"\n                type=\"button\"\n              />\n            </div>\n          </div>\n\n          <div className=\"card__wrapper\">\n            <div className=\"card__block\">\n              <ul className=\"card__list\" style={{ transform: `translateX(-${slidHot * 288}px)` }} data-cy=\"cardContainer\">\n                {hotPriceProduct && hotPriceProduct.map(prod => (\n                  <Card product={prod} key={prod.id} />\n                ))}\n              </ul>\n            </div>\n          </div>\n\n        </div>\n      </section>\n\n      <section className=\"category main__section\">\n        <div className=\"category__head\">\n          <h2 className=\"main__section--title\">Shop by category</h2>\n        </div>\n\n        <nav className=\"category__wrapper\">\n          <ul className=\"category__list\">\n            <li className=\"category__item\">\n              <Link\n                to=\"/phones\"\n                className=\"category__link category__link--phones\"\n              />\n\n              <h3 className=\"category__title\">Mobile phones</h3>\n\n              <span className=\"page__count\">{`${products.filter(p => p.type === 'phone').length} models`}</span>\n            </li>\n\n            <li className=\"category__item\">\n              <Link\n                to=\"/tablets\"\n                className=\"category__link category__link--tablets\"\n              />\n\n              <h3 className=\"category__title\">Tablets</h3>\n\n              <span className=\"page__count\">{`${products.filter(p => p.type === 'tablet').length} models`}</span>\n            </li>\n\n            <li className=\"category__item\">\n              <Link\n                to=\"/accessories\"\n                className=\"category__link category__link--accessories\"\n              />\n\n              <h3 className=\"category__title\">Accessories</h3>\n\n              <span className=\"page__count\">{`${0 + products.filter(p => p.type === 'accessories').length} accessories`}</span>\n            </li>\n          </ul>\n        </nav>\n      </section>\n\n      <section className=\"brand main__section\">\n        <div className=\"main__head\">\n          <h2 className=\"main__section--title\">Brand new models</h2>\n\n          <div className=\"btn__block\">\n            <button\n              className={classNames(\n                'btn',\n                'btn--prev',\n                { disabled: countBrand === 0 },\n              )}\n              onClick={() => prevSlide(setCountBrand, brandProduct)}\n              disabled={countBrand === 0}\n              aria-label=\"btn-prev\"\n              type=\"button\"\n            />\n\n            <button\n              className={classNames(\n                'btn',\n                'btn--next',\n                { disabled: countBrand === brandProduct.length - blockWidth },\n              )}\n              onClick={() => nextSlide(setCountBrand, brandProduct)}\n              disabled={countBrand === brandProduct.length - blockWidth}\n              aria-label=\"btn-next\"\n              type=\"button\"\n            />\n          </div>\n        </div>\n        <div className=\"card__wrapper\">\n          <div className=\"card__block\">\n            <ul className=\"card__list\" style={{ transform: `translateX(-${countBrand * 288}px)` }} data-cy=\"cardContainer\">\n              {brandProduct && brandProduct.map(prod => (\n                <Card product={prod} key={prod.id} />\n              ))}\n            </ul>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n","import { CustomSelect } from './CustomSelect';\n\nexport default CustomSelect;\n","import React, { FC, useEffect, useRef } from 'react';\nimport classNames from 'classnames';\nimport './CustomSelect.scss';\n\ntype PropsS = {\n  value: string;\n  isSelect: boolean;\n  handleActiveSelect: () => void;\n  handleOnKeyDown: (\n    e: React.KeyboardEvent<HTMLLIElement>,\n    value: string\n  ) => void;\n  handleChooseValue: (item: string) => void;\n  listItems: string[];\n  onBlurFromLastItem: (items: string[], item: string) => void;\n  onBlurBlock: () => void;\n};\n\nexport const CustomSelect: FC<PropsS> = ({\n  value,\n  isSelect,\n  handleActiveSelect,\n  handleOnKeyDown,\n  handleChooseValue,\n  listItems,\n  onBlurFromLastItem,\n  onBlurBlock,\n}) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handlClickOut = (e: MouseEvent) => {\n      if (ref.current && !ref.current.contains(e.target as Node)) {\n        onBlurBlock();\n      }\n    };\n\n    document.addEventListener('mousedown', handlClickOut);\n\n    return () => {\n      document.removeEventListener('mousedown', handlClickOut);\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"custom-select\"\n      role=\"listbox\"\n      ref={ref}\n    >\n      <button\n        className={classNames(\n          'filter__block',\n          { active: isSelect },\n        )}\n        onClick={handleActiveSelect}\n        aria-expanded={isSelect}\n        type=\"button\"\n        aria-haspopup=\"listbox\"\n      >\n        {value}\n      </button>\n\n      <ul\n        className={classNames(\n          'filter__block-sort',\n          { active: isSelect },\n        )}\n      >\n        {listItems.map((i) => (\n          <li\n            className={classNames(\n              'filter__item',\n              { active: value === i },\n            )}\n            role=\"option\"\n            aria-selected={value === i}\n            key={i}\n            tabIndex={0}\n            onClick={() => handleChooseValue(i)}\n            onKeyDown={(e) => handleOnKeyDown(e, i)}\n            onBlur={() => onBlurFromLastItem(listItems, i)}\n          >\n            {i}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { useLocation, Link, useSearchParams } from 'react-router-dom';\nimport { Product } from '../../type/Product';\nimport CustomSelect from '../CustomSelect';\nimport { getProducts } from '../../server/fetchJson';\nimport Card from '../Card';\nimport { useAppSelector } from '../../app/hooks';\nimport { favoriteItems } from '../../app/store';\nimport './ProductsList.scss';\nimport Loader from '../Loader';\n\ntype Props = {\n  query: string;\n};\n\nconst itemsPageArr = ['8', '16', '32', '64', 'All'];\nconst sortArr = ['Newest', 'Alphabetically', 'Low price', 'High price'];\n\nexport const ProductsList: React.FC<Props> = ({ query }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  const [selectSortCount, setSelectSortCount] = useState(false);\n  const [selectSortValue, setSelectSortValue] = useState(false);\n  const [loader, setLoader] = useState(true);\n\n  const [items, setItems] = useState<Product[]>([]);\n  const [visibleProd, setVisibleProd] = useState<Product[]>([]);\n\n  const { favoriteItem } = useAppSelector(favoriteItems);\n\n  const perPage = searchParams.get('per_page') || '8';\n  const sort = searchParams.get('sort') || 'Choose';\n  const page = searchParams.get('page') || '1';\n\n  const OnBlurCount = () => {\n    setSelectSortCount(false);\n  };\n\n  const handOnClickCount = () => {\n    setSelectSortCount(true);\n  };\n\n  const onKeyDownSortCount = (\n    e: React.KeyboardEvent<HTMLLIElement>,\n    value: string,\n  ) => {\n    if (e.key === 'Enter') {\n      searchParams.set('per_page', value);\n      setSearchParams(searchParams);\n      setSelectSortCount(false);\n    }\n  };\n\n  const chooseValueSortCount = (item: string) => {\n    searchParams.set('per_page', item);\n    setSearchParams(searchParams);\n    setSelectSortCount(false);\n  };\n\n  const onBlurLastItemCount = (itemsArr: string[], item: string) => {\n    if (itemsArr[itemsArr.length - 1] === item) {\n      setSelectSortCount(false);\n    }\n  };\n\n  const handOnClickSort = () => {\n    setSelectSortValue(true);\n  };\n\n  const onBlurSort = () => {\n    setSelectSortValue(false);\n  };\n\n  const onKeyDownSortValue = (\n    e: React.KeyboardEvent<HTMLLIElement>,\n    value: string,\n  ) => {\n    if (e.key === 'Enter') {\n      searchParams.set('sort', value);\n      setSearchParams(searchParams);\n      setSelectSortValue(false);\n    }\n  };\n\n  const chooseValueSortValue = (item: string) => {\n    searchParams.set('sort', item);\n    setSearchParams(searchParams);\n    setSelectSortValue(false);\n  };\n\n  const onBlurLastItemValue = (itemsArr: string[], item: string) => {\n    if (itemsArr[itemsArr.length - 1] === item) {\n      setSelectSortValue(false);\n    }\n  };\n\n  const pageArr: number[] = [];\n\n  for (let i = 1; i <= Math.ceil(items.length / +perPage); i += 1) {\n    pageArr.push(i);\n  }\n\n  const sortVisibleProd = () => {\n    const cloneP = [...items];\n    const filterProduct = cloneP\n      .filter((c) => c.name.toLowerCase().includes(query.toLowerCase()));\n\n    const sortedProducts = filterProduct.sort((p1, p2) => {\n      switch (sort.toLowerCase()) {\n        case 'newest':\n          return p2.age - p1.age;\n        case 'alphabetically':\n          return p1.name.localeCompare(p2.name);\n        case 'low price':\n          return p1.price - p2.price;\n        case 'high price':\n          return p2.price - p1.price;\n        default:\n          return 0;\n      }\n    });\n\n    const visiblePageProduct = () => {\n      if (perPage === 'All') {\n        return sortedProducts;\n      }\n\n      const r = [...sortedProducts];\n\n      return r.splice((+page - 1) * +perPage, +perPage);\n    };\n\n    setVisibleProd(visiblePageProduct());\n  };\n\n  const nexPage = () => {\n    if (!(+page === Math.ceil(items.length / +perPage))) {\n      searchParams.set('page', String(+page + 1));\n      setSearchParams(searchParams);\n    }\n  };\n\n  const prevPage = () => {\n    if (!(+page === 1)) {\n      searchParams.set('page', String(+page - 1));\n      setSearchParams(searchParams);\n    }\n  };\n\n  const firstLocation = location.pathname.split('/').filter((l) => l !== '')[0];\n  const typeProduct = firstLocation.slice(0, -1);\n\n  useEffect(() => {\n    if (firstLocation !== 'favorites') {\n      setLoader(true);\n      getProducts()\n        .then(prod => {\n          setLoader(false);\n          setItems(prod\n            .filter(item => item.type === typeProduct));\n        })\n        .catch(() => setLoader(false));\n    } else {\n      setItems(favoriteItem);\n    }\n  }, [firstLocation, favoriteItem]);\n\n  useEffect(() => {\n    sortVisibleProd();\n  }, [items, query, page, sort, perPage]);\n\n  useEffect(() => {\n    searchParams.delete('page');\n    setSearchParams(searchParams);\n  }, [sort, perPage]);\n\n  const pageTitle = () => {\n    switch (firstLocation) {\n      case 'phones':\n        return 'Mobiel phones';\n\n      case 'tablets':\n        return 'Tablets';\n\n      case 'accessories':\n        return 'Accessories';\n\n      case 'favorites':\n        return 'Favorites';\n\n      default:\n        return '';\n    }\n  };\n\n  if (loader && firstLocation !== 'favorites') {\n    return (\n      <Loader />\n    );\n  }\n\n  return (\n    <>\n      <div className=\"breadcrumbs\">\n        <Link to=\"/home\" className=\"breadcrumbs__home\" />\n        <span className=\"breadcrumbs__arrow\" />\n        <Link to={{ pathname: `../${firstLocation}` }} className=\"breadcrumbs__location\">\n          {firstLocation.slice(0, 1).toUpperCase() + firstLocation.slice(1)}\n        </Link>\n      </div>\n      {visibleProd.length > 0 ? (\n        <>\n          <h1 className=\"page__title\">\n            {pageTitle()}\n          </h1>\n\n          <span className=\"page__count page__count--margin\">\n            {`${items.length} models`}\n          </span>\n\n          <div className=\"page__filter\">\n            <div className=\"filter__wrapper\">\n              <span className=\"filter__title\">Sort by</span>\n\n              <CustomSelect\n                value={sort}\n                isSelect={selectSortValue}\n                handleActiveSelect={handOnClickSort}\n                handleOnKeyDown={onKeyDownSortValue}\n                handleChooseValue={chooseValueSortValue}\n                listItems={sortArr}\n                onBlurFromLastItem={onBlurLastItemValue}\n                onBlurBlock={onBlurSort}\n              />\n            </div>\n\n            <div className=\"filter__wrapper\">\n              <span className=\"filter__title\">Items on page</span>\n\n              <CustomSelect\n                value={perPage}\n                isSelect={selectSortCount}\n                handleActiveSelect={handOnClickCount}\n                handleOnKeyDown={onKeyDownSortCount}\n                handleChooseValue={chooseValueSortCount}\n                listItems={itemsPageArr}\n                onBlurFromLastItem={onBlurLastItemCount}\n                onBlurBlock={OnBlurCount}\n              />\n            </div>\n          </div>\n          <div className=\"page__mobiel\">\n            <ul className=\"card__list page__list\" data-cy=\"cardContainer\">\n              {visibleProd.map((prod) => (\n                <Card product={prod} key={prod.id} />\n              ))}\n            </ul>\n          </div>\n          {perPage !== 'All' && +perPage < items.length && (\n            <div className=\"mobiel__pagination pagination\">\n              <ul className=\"pagination__list\">\n                <li className=\"pagination__item\">\n                  <button\n                    className=\"pagination__link pagination__link-prev\"\n                    onClick={prevPage}\n                    type=\"button\"\n                    aria-label=\"prev-btn\"\n                  />\n                </li>\n                {pageArr.map((p) => (\n                  <li className=\"pagination__item\" key={p}>\n                    <button\n                      className={classNames(\n                        'pagination__link',\n                        { active: +page === p },\n                      )}\n                      onClick={() => {\n                        searchParams.set('page', String(p));\n                        setSearchParams(searchParams);\n                      }}\n                      type=\"button\"\n                      aria-label=\"page-btn\"\n                    >\n                      {p}\n                    </button>\n                  </li>\n                ))}\n                <li className=\"pagination__item\">\n                  <button\n                    className=\"pagination__link pagination__link-next\"\n                    onClick={nexPage}\n                    type=\"button\"\n                    aria-label=\"next-btn\"\n                  />\n                </li>\n              </ul>\n            </div>\n          )}\n        </>\n      ) : (\n        <h1 className=\"page__title\">Product not found</h1>\n      )}\n    </>\n  );\n};\n","import { ProductsList } from './ProductsList';\n\nexport default ProductsList;\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { useLocation, Link, useParams } from 'react-router-dom';\nimport { Product } from '../../type/Product';\nimport { ProductItem } from '../../type/ProductItem';\nimport BlockBuyBtn from '../BlockBuyBtn';\nimport Card from '../Card';\nimport { getItemProduct, getProducts } from '../../server/fetchJson';\nimport './ProductPage.scss';\n\nconst handGoBack = () => {\n  window.history.back();\n};\n\nexport const ProductPage = () => {\n  const [product, setProduct] = useState<ProductItem>();\n  const [activeImg, setActiveImg] = useState<string>();\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [countBrand, setCountBrand] = useState(0);\n\n  const location = useLocation();\n  const arrLocation = location.pathname.split('/').filter(l => l !== '');\n  const { id } = useParams();\n\n  const nextSlide = (\n    set:React.Dispatch<React.SetStateAction<number>>,\n    arr:Product[],\n  ) => {\n    set((count) => {\n      return count === arr.length - 1 ? 0 : count + 1;\n    });\n  };\n\n  const prevSlide = (\n    set: React.Dispatch<React.SetStateAction<number>>,\n    arr: Product[],\n  ) => {\n    set((count: number) => {\n      return count === 0 ? arr.length - 1 : count - 1;\n    });\n  };\n\n  useEffect(() => {\n    getProducts()\n      .then(prod => setAllProducts(prod));\n\n    getItemProduct(id)\n      .then(prod => {\n        setProduct(prod);\n        setActiveImg(prod.images[0]);\n      });\n  }, []);\n\n  const nextImg = (img: string, arr: string[]) => {\n    const checked = arr.findIndex(imges => imges === img) === arr.length - 1;\n\n    return checked ? arr[0] : arr[arr.findIndex(imges => imges === img) + 1];\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (product && activeImg) {\n        setActiveImg(nextImg(activeImg, product.images));\n      }\n    }, 5000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [product, activeImg]);\n\n  let blockWidth = 0;\n  let mediaV = 0;\n\n  for (let i = 1; i < 5; i += 1) {\n    mediaV += 288;\n\n    if (window.matchMedia(`(min-width: ${mediaV}px)`).matches === true) {\n      blockWidth = i;\n    }\n  }\n\n  const findItem = allProducts.find(item => item.id === id);\n  const discontPrice = findItem && findItem.price\n  - findItem.price * (findItem.discount / 100);\n\n  return (\n    <>\n      <div className=\"breadcrumbs\">\n        <Link to=\"/home\" className=\"breadcrumbs__home\" />\n\n        <span className=\"breadcrumbs__arrow\" />\n\n        {arrLocation.map(l => (\n          <>\n            <Link to={{ pathname: `/${l}` }} className=\"breadcrumbs__location\">\n              {l.slice(0, 1).toUpperCase() + l.slice(1)}\n            </Link>\n\n            {l !== arrLocation[arrLocation.length - 1] && (\n              <span className=\"breadcrumbs__arrow\" />\n            )}\n          </>\n        ))}\n      </div>\n\n      <div className=\"breadcrumbs__back\">\n        <span className=\"breadcrumbs__arrow breadcrumbs__arrow--back\" />\n\n        <button\n          className=\"breadcrumbs__go-back\"\n          onClick={handGoBack}\n          type=\"button\"\n        >\n          Back\n        </button>\n      </div>\n      {product && (\n        <>\n          <h1 className=\"main__section--title\">\n            {product.name}\n          </h1>\n\n          <div className=\"product\">\n            <section className=\"product__block-imgs\">\n              <div className=\"product__all-imgs\">\n                {product.images.map(img => (\n                  <button\n                    key={img}\n                    className={classNames(\n                      'product__block-img',\n                      { active: activeImg === img },\n                    )}\n                    type=\"button\"\n                    onClick={() => setActiveImg(img)}\n                  >\n                    <img src={img} alt=\"img\" className=\"product__img\" />\n                  </button>\n                ))}\n              </div>\n              <div className=\"product__active-img\">\n                <img src={activeImg} alt=\"\" />\n              </div>\n            </section>\n\n            <section className=\"product__block info\">\n              <div className=\"product__buy-block\">\n                <div className=\"product__price\">\n                  {findItem && findItem.discount === 0 ? (\n                    findItem.price\n                  ) : findItem && (\n                    <>\n                      {`$${discontPrice}`}\n                      <span className=\"card__price--sale\">\n                        {findItem.price}\n                      </span>\n                    </>\n                  )}\n                </div>\n\n                <div className=\"product__buy\">\n                  {findItem && (<BlockBuyBtn item={findItem} />)}\n                </div>\n              </div>\n\n              <ul className=\"product__charac\">\n                <li className=\"product__charac-item\">\n                  <span className=\"product__spec\">Screen</span>\n\n                  <span className=\"product__value\">\n                    {product.display.screenSize}\n                  </span>\n                </li>\n\n                <li className=\"product__charac-item\">\n                  <span className=\"product__spec\">Resolution</span>\n\n                  <span className=\"product__value\">\n                    {product.display.screenResolution}\n                  </span>\n                </li>\n\n                <li className=\"product__charac-item\">\n                  <span className=\"product__spec\">Processor</span>\n\n                  <span className=\"product__value\">\n                    {product.hardware.cpu}\n                  </span>\n                </li>\n\n                <li className=\"product__charac-item\">\n                  <span className=\"product__spec\">RAM</span>\n\n                  <span className=\"product__value\">\n                    {product.storage.ram}\n                  </span>\n                </li>\n              </ul>\n            </section>\n\n            <section className=\"about product__block\">\n              <div className=\"about__head\">\n                <h2 className=\"about__main-title\">About</h2>\n              </div>\n\n              <div className=\"description__text\">\n                {product.description}\n              </div>\n            </section>\n\n            <section className=\"product__block tech-specs\">\n              <div className=\"about__head\">\n                <h2 className=\"about__main-title\">Tech specs</h2>\n              </div>\n\n              <ul className=\"tech-specs__list\">\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">Screen</span>\n\n                  <span className=\"tech__specs__value\">\n                    {product.display.screenSize}\n                  </span>\n                </li>\n\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">Resolution</span>\n\n                  <span className=\"tech__specs__value\">\n                    {product.display.screenResolution}\n                  </span>\n                </li>\n\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">Processor</span>\n\n                  <span className=\"tech__specs__value\">\n                    {product.hardware.cpu}\n                  </span>\n                </li>\n\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">RAM</span>\n\n                  <span className=\"tech__specs__value\">\n                    {product.storage.ram}\n                  </span>\n                </li>\n\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">Built in memory</span>\n\n                  <span className=\"tech__specs__value\">\n                    {product.storage.flash}\n                  </span>\n                </li>\n\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">Camera</span>\n                  <span className=\"tech__specs__value\">\n                    {product.camera.primary}\n                  </span>\n                </li>\n\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">Zoom</span>\n\n                  <span className=\"tech__specs__value\" />\n                </li>\n\n                <li className=\"tech-specs__item\">\n                  <span className=\"tech-specs__spec\">Cell</span>\n\n                  <span className=\"tech-specs__value\">\n                    {`${product.connectivity.cell}`}\n                  </span>\n                </li>\n              </ul>\n            </section>\n          </div>\n\n          <div className=\"recommended\">\n            <div className=\"main__head\">\n              <h2 className=\"main__section--title\">\n                You may also like\n              </h2>\n\n              <div className=\"btn__block\">\n                <button\n                  className=\"btn btn--prev\"\n                  onClick={() => prevSlide(setCountBrand, allProducts)}\n                  disabled={countBrand === 0}\n                  aria-label=\"btn-prev\"\n                  type=\"button\"\n                />\n\n                <button\n                  className=\"btn btn--next\"\n                  onClick={() => nextSlide(setCountBrand, allProducts)}\n                  disabled={countBrand === allProducts.length - blockWidth}\n                  aria-label=\"btn-next\"\n                  type=\"button\"\n                />\n              </div>\n            </div>\n\n            <div className=\"card__wrapper\">\n              <div className=\"card__block\">\n                <ul className=\"card__list\" style={{ transform: `translateX(-${countBrand * 288}px)` }} data-cy=\"cardContainer\">\n                  {allProducts.map(prod => (\n                    <Card product={prod} key={prod.id} />\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n","import { ProductPage } from './ProductPage';\n\nexport default ProductPage;\n","import { BasketItem } from './BasketItem';\n\nexport default BasketItem;\n","import classNames from 'classnames';\nimport { Product } from '../../type/Product';\nimport './BasketItem.scss';\n\ntype Props = {\n  product: Product;\n  addItem: (item: Product) => void;\n  removeItem: (item: Product) => void;\n  removeProduct: (item: Product) => void;\n};\n\nexport const BasketItem: React.FC<Props> = ({\n  product, addItem, removeItem, removeProduct,\n}) => {\n  return (\n    <li className=\"cart__item\">\n      <button\n        className=\"btn btn__close\"\n        onClick={() => removeProduct(product)}\n        type=\"button\"\n        aria-label=\"btn\"\n      />\n\n      <div className=\"product__block-img product__block--border\">\n        <img src={product.imageUrl} alt=\"\" className=\"product__img\" />\n      </div>\n\n      <div className=\"cart__main-info\">\n        <div className=\"cart__name\">{product.name}</div>\n\n        <div className=\"cart__quantity\">\n          <button\n            onClick={() => removeItem(product)}\n            className={classNames(\n              'btn',\n              'btn__minus',\n              { disabled: !product.quantity || product.quantity === 1 },\n            )}\n            disabled={!product.quantity || product.quantity === 1}\n            type=\"button\"\n            aria-label=\"btn\"\n          />\n\n          <div className=\"cart__count cart__count-item\">\n            {product.quantity ? product.quantity : 1}\n          </div>\n\n          <button\n            className=\"btn btn__plus\"\n            onClick={() => addItem(product)}\n            type=\"button\"\n            aria-label=\"btn\"\n          />\n        </div>\n      </div>\n\n      <div className=\"cart__price\">\n        {`$${(product.price * (100 - product.discount)) / 100}`}\n      </div>\n    </li>\n  );\n};\n","export const BasketCompleted = () => {\n  return (\n    <>\n      <h1>Thank You!</h1>\n\n      <p>\n        Thanks for your order.\n        Your purchase will be packaged and sent to you shortly.\n      </p>\n    </>\n  );\n};\n","import { PageCart } from './PageCart';\n\nexport default PageCart;\n","import { useEffect, useState } from 'react';\nimport {\n  useAppDispatch,\n  useAppSelector,\n  useLocaleStorage,\n} from '../../app/hooks';\nimport {\n  addItemBasket,\n  removeAllItems,\n  removeItemFromBasket,\n  removeItemInBasket,\n} from '../../feature/basket';\nimport { Product } from '../../type/Product';\nimport { basketItems } from '../../app/store';\nimport BasketItem from '../BasketItem';\nimport { BasketCompleted } from '../BasketCompleted/BasketCompleted';\nimport './PageCart.scss';\n\nconst handGoBack = () => {\n  window.history.back();\n};\n\nexport const PageCart = () => {\n  const [basketBuy, setBasket] = useLocaleStorage<Product[]>('prodBuy', []);\n  const [buy, setBuy] = useState(false);\n\n  const dispatch = useAppDispatch();\n  const { basketItem } = useAppSelector(basketItems);\n\n  let allCount = 0;\n\n  for (let i = 0; i < basketBuy.length; i += 1) {\n    if (basketBuy[i].quantity) {\n      allCount += basketBuy[i].quantity\n        * ((basketBuy[i].price * (100 - basketBuy[i].discount)) / 100);\n    } else {\n      allCount += (basketBuy[i].price * (100 - basketBuy[i].discount)) / 100;\n    }\n  }\n\n  useEffect(() => {\n    setBasket(basketItem);\n  }, [basketItem]);\n\n  const handCheckedBascked = () => {\n    setBuy(true);\n    dispatch(removeAllItems({}));\n  };\n\n  const addItem = (item: Product) => {\n    dispatch(addItemBasket(item));\n  };\n\n  const removeItem = (item: Product) => {\n    dispatch(removeItemInBasket(item));\n  };\n\n  const removeProduct = (item: Product) => {\n    dispatch(removeItemFromBasket(item));\n  };\n\n  let countCart = 0;\n\n  basketItem.forEach((el: Product) => {\n    if (Object.hasOwnProperty.call(el, 'quantity')) {\n      countCart += el.quantity;\n    } else {\n      countCart += 1;\n    }\n  });\n\n  return (\n    <>\n      <div className=\"breadcrumbs__back\">\n        <span className=\"breadcrumbs__arrow breadcrumbs__arrow--back\" />\n\n        <button\n          className=\"breadcrumbs__go-back\"\n          onClick={() => handGoBack()}\n          type=\"button\"\n        >\n          Back\n        </button>\n      </div>\n\n      {!buy ? (\n        <div className=\"cart main__section\">\n          <h1 className=\"main__section--title cart__title\">Cart</h1>\n\n          <div className=\"cart__block\">\n            {basketBuy.length === 0 && (\n              <h2 className=\"main__section--title completed__title\">\n                Cart is empty\n              </h2>\n            )}\n            <ul className=\"cart__list\">\n              {basketItem.map(b => (\n                <BasketItem\n                  product={b}\n                  addItem={addItem}\n                  removeItem={removeItem}\n                  removeProduct={removeProduct}\n                  key={b.id}\n                />\n              ))}\n            </ul>\n\n            <div className=\"cart__checkout\">\n              <div className=\"cart__info\">\n                <div className=\"cart__all-price\">{`$${allCount}`}</div>\n\n                <span className=\"cart__count\">{`Total for ${countCart} items`}</span>\n              </div>\n\n              <div className=\"cart__line\" />\n\n              <button\n                onClick={() => basketBuy.length !== 0 && handCheckedBascked()}\n                className=\"card__btn card__btn--buy btn--checkout\"\n                type=\"button\"\n                aria-label=\"btn\"\n              >\n                Checkout\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <BasketCompleted />\n      )}\n    </>\n  );\n};\n","import './App.scss';\nimport { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport {\n  NavLink,\n  Route,\n  Routes,\n  Navigate,\n  Link,\n  useSearchParams,\n  useLocation,\n} from 'react-router-dom';\nimport {\n  useAppDispatch,\n  useAppSelector,\n  useDebounce,\n  useLocaleStorage,\n} from '../../app/hooks';\nimport { basketItems, favoriteItems } from '../../app/store';\nimport { addAllFavorite } from '../../feature/favorite';\nimport { addAllBasket } from '../../feature/basket';\nimport { Product } from '../../type/Product';\nimport PageHome from '../PageHome';\nimport ProductsList from '../ProductList';\nimport ProductPage from '../ProductPage';\nimport PageCart from '../PageCart';\n\nconst BackToTop = () => {\n  window.scrollTo(0, 0);\n};\n\nconst pageArr = ['phones', 'tablets', 'accessories', 'favorites'];\n\nconst App = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const dispatch = useAppDispatch();\n  const location = useLocation();\n\n  const [menu, setMenu] = useState(false);\n  const [searchValue, setSearchValue]\n    = useState(searchParams.get('query') || '');\n\n  const query = searchParams.get('query') || '';\n\n  const refMenu = useRef<HTMLElement>(null);\n  const favoriteProduct = useAppSelector(favoriteItems);\n  const basketProduct = useAppSelector(basketItems);\n\n  const [favorite] = useLocaleStorage<Product[]>('prodFavorite', []);\n  const [basketBuy] = useLocaleStorage<Product[]>('prodBuy', []);\n\n  let countCart = 0;\n\n  basketProduct.basketItem.forEach((el: Product) => {\n    if (Object.hasOwnProperty.call(el, 'quantity')) {\n      countCart += el.quantity;\n    } else {\n      countCart += 1;\n    }\n  });\n\n  const locationName = location.pathname.split('/')[1];\n  const checkPageForSearch:boolean = pageArr.includes(locationName);\n\n  const checkedBasketPage:boolean = 'cart'\n    .includes(locationName);\n\n  const querySearch = (text: string) => {\n    if (!text) {\n      searchParams.delete('query');\n    } else {\n      searchParams.set('query', text);\n    }\n\n    setSearchParams(searchParams);\n  };\n\n  const debounceQuery = useDebounce(querySearch, 2000);\n\n  const onChangeSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(e.target.value);\n  };\n\n  const onClickDeteleSearchValue = () => {\n    setSearchValue('');\n    searchParams.delete('query');\n    setSearchParams(searchParams);\n  };\n\n  useEffect(() => {\n    debounceQuery(searchValue);\n  }, [searchValue]);\n\n  useEffect(() => {\n    dispatch(addAllFavorite(favorite));\n    dispatch(addAllBasket(basketBuy));\n  }, []);\n\n  useEffect(() => {\n    const handleOutClickMenu = (e: MouseEvent) => {\n      if (refMenu.current && !refMenu.current.contains(e.target as Node)) {\n        setMenu(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleOutClickMenu);\n\n    return () => document.removeEventListener('mousedown', handleOutClickMenu);\n  }, []);\n\n  useEffect(() => {\n    setMenu(false);\n  }, [window.location.hash]);\n\n  return (\n    <div className=\"page\">\n      <header className=\"header\">\n        <div className=\"header__content\">\n          <Link to=\"/\" className=\"logo\" />\n\n          <nav className=\"navigation\">\n            <ul className=\"navigation__list\">\n\n              <li className=\"navigation__item\">\n                <NavLink\n                  to=\"/\"\n                  className={({ isActive }) => classNames(\n                    'navigation__link',\n                    { active: isActive },\n                  )}\n                  data-cy=\"categoryLinksContainer\"\n                >\n                  Home\n                </NavLink>\n              </li>\n              <li className=\"navigation__item\">\n                <NavLink\n                  to=\"/phones\"\n                  className={({ isActive }) => classNames(\n                    'navigation__link',\n                    { active: isActive },\n                  )}\n                  data-cy=\"categoryLinksContainer\"\n                >\n                  Phones\n                </NavLink>\n              </li>\n              <li className=\"navigation__item\">\n                <NavLink\n                  to=\"/tablets\"\n                  className={({ isActive }) => classNames(\n                    'navigation__link',\n                    { active: isActive },\n                  )}\n                  data-cy=\"categoryLinksContainer\"\n                >\n                  tablets\n                </NavLink>\n              </li>\n              <li className=\"navigation__item\">\n                <NavLink\n                  to=\"/accessories\"\n                  className={({ isActive }) => classNames(\n                    'navigation__link',\n                    { active: isActive },\n                  )}\n                  data-cy=\"categoryLinksContainer\"\n                >\n                  accessories\n                </NavLink>\n              </li>\n            </ul>\n          </nav>\n        </div>\n        <div className=\"header__buy\">\n          {checkPageForSearch && (\n            <div className=\"header__search\">\n\n              <input\n                className={classNames(\n                  'field__search--input',\n                  { close: query.length > 0 },\n                )}\n                placeholder={`Search in ${locationName}...`}\n                value={searchValue}\n                onChange={onChangeSearch}\n              />\n\n              <button\n                className={classNames(\n                  'field__search--input',\n                  'field__search--btn',\n                  { close: query.length > 0 },\n                )}\n                onClick={onClickDeteleSearchValue}\n                type=\"button\"\n                aria-label=\"btn\"\n                data-cy=\"searchDelete\"\n              />\n            </div>\n          )}\n\n          {!checkedBasketPage && (\n            <div className=\"header__btn header__btn--like\">\n              {favoriteProduct.favoriteItem.length > 0 && (\n                <>\n                  <span className=\"count\">\n                    {favoriteProduct.favoriteItem.length}\n                  </span>\n\n                  <Link\n                    to=\"favorites\"\n                    data-cy=\"addToFavorite\"\n                    className=\"header__link\"\n                  />\n                </>\n              )}\n            </div>\n          )}\n\n          <div className=\"header__btn header__btn--cart\">\n            {basketProduct.basketItem.length > 0 && (\n              <>\n                <span className=\"count\">{countCart}</span>\n\n                <Link\n                  to=\"/cart\"\n                  data-cy=\"productQauntity\"\n                  className=\"header__link\"\n                />\n              </>\n            )}\n\n          </div>\n          <button\n            className={classNames(\n              'header__btn',\n              'header__btn--menu',\n              { active: menu },\n            )}\n            onClick={() => setMenu(!menu)}\n            type=\"button\"\n            aria-label=\"btn\"\n          />\n        </div>\n      </header>\n\n      <nav\n        className={classNames('navigation--mobiel', { active: menu })}\n        id=\"menu\"\n        ref={refMenu}\n      >\n        <ul className=\"navigation--mobiel__list\">\n          <li className=\"navigation--mobiel__item\">\n            <NavLink\n              to=\"/home\"\n              className=\"navigation--mobiel__link\"\n            >\n              home\n            </NavLink>\n          </li>\n\n          <li className=\"navigation--mobiel__item\">\n            <NavLink\n              to=\"/phones\"\n              className=\"navigation--mobiel__link\"\n            >\n              Phones\n            </NavLink>\n          </li>\n\n          <li className=\"navigation--mobiel__item\">\n            <NavLink\n              to=\"/tablets\"\n              className=\"navigation--mobiel__link\"\n            >\n              tablets\n            </NavLink>\n          </li>\n\n          <li className=\"navigation--mobiel__item\">\n            <NavLink\n              to=\"/accessories\"\n              className=\"navigation--mobiel__link\"\n            >\n              accessories\n            </NavLink>\n          </li>\n\n          <li className=\"navigation--mobiel__item\">\n            <NavLink\n              to=\"/phones\"\n              className=\"navigation--mobiel__link\"\n            >\n              Github\n            </NavLink>\n          </li>\n\n          <li className=\"navigation--mobiel__item\">\n            <NavLink\n              to=\"/tablets\"\n              className=\"navigation--mobiel__link\"\n            >\n              Contacts\n            </NavLink>\n          </li>\n\n          <li className=\"navigation--mobiel__item\">\n            <NavLink\n              to=\"/accessories\"\n              className=\"navigation--mobiel__link\"\n            >\n              rights\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n\n      <main className=\"main\">\n        <div className=\"container\">\n          <Routes>\n            <Route\n              path=\"/\"\n              element={(\n                <PageHome />\n              )}\n            />\n            <Route path=\"/home\" element={<Navigate to=\"/\" replace />} />\n\n            <Route path=\"phones\">\n              <Route\n                index\n                element={(\n                  <ProductsList\n                    query={query}\n                  />\n                )}\n              />\n              <Route\n                path=\":id\"\n                element={(\n                  <ProductPage />\n                )}\n              />\n            </Route>\n\n            <Route path=\"tablets\">\n              <Route\n                index\n                element={(\n                  <ProductsList\n                    query={query}\n                  />\n                )}\n              />\n              <Route\n                path=\":id\"\n                element={(\n                  <ProductPage />\n                )}\n              />\n            </Route>\n\n            <Route path=\"accessories\">\n              <Route\n                index\n                element={(\n                  <ProductsList\n                    query={query}\n                  />\n                )}\n              />\n              <Route\n                path=\":id\"\n                element={(\n                  <ProductPage />\n                )}\n              />\n            </Route>\n\n            <Route\n              path=\"favorites\"\n              element={\n                <ProductsList query={query} />\n              }\n            />\n\n            <Route path=\"cart\" element={<PageCart />} />\n          </Routes>\n        </div>\n      </main>\n\n      <footer className=\"footer\">\n        <div className=\"container\">\n          <div className=\"footer__content\">\n            <Link to=\"/\" className=\"logo\" />\n\n            <nav className=\"footer__nav\">\n              <ul className=\"footer__list\">\n                <li className=\"footer__item\">\n                  <a href=\"/\" className=\"footer__link\">\n                    Github\n                  </a>\n                </li>\n\n                <li className=\"footer__item\">\n                  <a href=\"/\" className=\"footer__link\">\n                    Contacts\n                  </a>\n                </li>\n\n                <li className=\"footer__item\">\n                  <a href=\"/\" className=\"footer__link\">\n                    rights\n                  </a>\n                </li>\n              </ul>\n            </nav>\n\n            <div className=\"footer__back-block\">\n              <span className=\"footer__back\">Back to top</span>\n              <button\n                onClick={BackToTop}\n                className=\"btn btn--back\"\n                type=\"button\"\n                aria-label=\"btn\"\n              />\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App/App';\nimport { store } from './app/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}